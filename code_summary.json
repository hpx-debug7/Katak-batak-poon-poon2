{
    "tech_stack": [
        "TypeScript",
        "Next.js 15.5",
        "React 19.1",
        "Prisma ORM",
        "SQLite",
        "NextAuth.js",
        "Tailwind CSS 4.x",
        "Electron 33.x",
        "Zod Validation"
    ],
    "features": [
        {
            "name": "Lead Management API",
            "description": "CRUD operations for sales leads including creation, viewing, updating, and soft deletion. Supports filtering, pagination, search, and status management.",
            "files": [
                "app/api/leads/route.ts",
                "app/api/leads/[id]/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "paths": {
                    "/api/leads": {
                        "get": {
                            "summary": "List leads with filters",
                            "parameters": [
                                {
                                    "name": "status",
                                    "in": "query",
                                    "schema": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "name": "search",
                                    "in": "query",
                                    "schema": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "name": "assignedTo",
                                    "in": "query",
                                    "schema": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "name": "page",
                                    "in": "query",
                                    "schema": {
                                        "type": "integer"
                                    }
                                },
                                {
                                    "name": "limit",
                                    "in": "query",
                                    "schema": {
                                        "type": "integer"
                                    }
                                }
                            ],
                            "responses": {
                                "200": {
                                    "description": "Paginated list of leads"
                                }
                            }
                        },
                        "post": {
                            "summary": "Create a new lead",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "clientName": {
                                                    "type": "string"
                                                },
                                                "company": {
                                                    "type": "string"
                                                },
                                                "mobileNumber": {
                                                    "type": "string"
                                                },
                                                "email": {
                                                    "type": "string"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "default": "NEW"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "201": {
                                    "description": "Lead created successfully"
                                }
                            }
                        }
                    },
                    "/api/leads/{id}": {
                        "get": {
                            "summary": "Get lead by ID",
                            "responses": {
                                "200": {
                                    "description": "Lead details"
                                }
                            }
                        },
                        "put": {
                            "summary": "Update lead",
                            "responses": {
                                "200": {
                                    "description": "Lead updated"
                                }
                            }
                        },
                        "delete": {
                            "summary": "Soft delete lead",
                            "responses": {
                                "200": {
                                    "description": "Lead deleted"
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Lead Assignment API",
            "description": "Assign and unassign leads to users, forward leads between departments",
            "files": [
                "app/api/leads/[id]/assign/route.ts",
                "app/api/leads/[id]/unassign/route.ts",
                "app/api/leads/[id]/forward/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "paths": {
                    "/api/leads/{id}/assign": {
                        "post": {
                            "summary": "Assign lead to a user",
                            "requestBody": {
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "userId": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "200": {
                                    "description": "Lead assigned successfully"
                                }
                            }
                        }
                    },
                    "/api/leads/{id}/unassign": {
                        "post": {
                            "summary": "Unassign lead",
                            "responses": {
                                "200": {
                                    "description": "Lead unassigned"
                                }
                            }
                        }
                    },
                    "/api/leads/{id}/forward": {
                        "post": {
                            "summary": "Forward lead to process department",
                            "responses": {
                                "200": {
                                    "description": "Lead forwarded, case created"
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Lead Activities API",
            "description": "Track and log activities on leads",
            "files": [
                "app/api/leads/[id]/activities/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "paths": {
                    "/api/leads/{id}/activities": {
                        "get": {
                            "summary": "Get lead activities",
                            "responses": {
                                "200": {
                                    "description": "List of activities"
                                }
                            }
                        },
                        "post": {
                            "summary": "Add activity to lead",
                            "responses": {
                                "201": {
                                    "description": "Activity added"
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Case Management API",
            "description": "CRUD operations for cases (converted leads). Supports filtering, search, status management and bulk operations.",
            "files": [
                "app/api/cases/route.ts",
                "app/api/cases/[id]/route.ts",
                "app/api/cases/bulk-assign/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "paths": {
                    "/api/cases": {
                        "get": {
                            "summary": "List cases with filters",
                            "responses": {
                                "200": {
                                    "description": "Paginated list of cases"
                                }
                            }
                        },
                        "post": {
                            "summary": "Create a new case",
                            "responses": {
                                "201": {
                                    "description": "Case created"
                                }
                            }
                        }
                    },
                    "/api/cases/{id}": {
                        "get": {
                            "summary": "Get case by ID",
                            "responses": {
                                "200": {
                                    "description": "Case details"
                                }
                            }
                        },
                        "put": {
                            "summary": "Update case",
                            "responses": {
                                "200": {
                                    "description": "Case updated"
                                }
                            }
                        },
                        "delete": {
                            "summary": "Delete case",
                            "responses": {
                                "200": {
                                    "description": "Case deleted"
                                }
                            }
                        }
                    },
                    "/api/cases/bulk-assign": {
                        "post": {
                            "summary": "Bulk assign cases to users",
                            "responses": {
                                "200": {
                                    "description": "Cases assigned"
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Authentication API",
            "description": "User authentication with NextAuth, including login, logout, MFA, password reset, and SAML SSO",
            "files": [
                "app/api/auth/[...nextauth]/route.ts",
                "app/api/auth/forgot-password/route.ts",
                "app/api/auth/reset-password/route.ts",
                "app/api/auth/mfa/enable/route.ts",
                "app/api/auth/mfa/verify/route.ts",
                "app/api/auth/mfa/disable/route.ts",
                "app/api/auth/saml/callback/route.ts",
                "app/api/auth/saml/login/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "paths": {
                    "/api/auth/forgot-password": {
                        "post": {
                            "summary": "Request password reset email",
                            "responses": {
                                "200": {
                                    "description": "Reset email sent"
                                }
                            }
                        }
                    },
                    "/api/auth/reset-password": {
                        "post": {
                            "summary": "Reset password with token",
                            "responses": {
                                "200": {
                                    "description": "Password reset successful"
                                }
                            }
                        }
                    },
                    "/api/auth/mfa/enable": {
                        "post": {
                            "summary": "Enable MFA for user",
                            "responses": {
                                "200": {
                                    "description": "MFA enabled, returns secret"
                                }
                            }
                        }
                    },
                    "/api/auth/mfa/verify": {
                        "post": {
                            "summary": "Verify MFA code",
                            "responses": {
                                "200": {
                                    "description": "MFA verified"
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Role Management API",
            "description": "RBAC role management with custom permissions and field-level access control",
            "files": [
                "app/api/roles/route.ts",
                "app/api/roles/[id]/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "paths": {
                    "/api/roles": {
                        "get": {
                            "summary": "List all roles",
                            "responses": {
                                "200": {
                                    "description": "List of roles with permissions"
                                }
                            }
                        },
                        "post": {
                            "summary": "Create custom role",
                            "responses": {
                                "201": {
                                    "description": "Role created"
                                }
                            }
                        }
                    },
                    "/api/roles/{id}": {
                        "get": {
                            "summary": "Get role by ID",
                            "responses": {
                                "200": {
                                    "description": "Role details"
                                }
                            }
                        },
                        "put": {
                            "summary": "Update role permissions",
                            "responses": {
                                "200": {
                                    "description": "Role updated"
                                }
                            }
                        },
                        "delete": {
                            "summary": "Delete role",
                            "responses": {
                                "200": {
                                    "description": "Role deleted"
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Tenant Management API",
            "description": "Multi-tenant organization management",
            "files": [
                "app/api/tenants/route.ts",
                "app/api/tenants/[id]/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "paths": {
                    "/api/tenants": {
                        "get": {
                            "summary": "List tenants (super admin only)",
                            "responses": {
                                "200": {
                                    "description": "List of tenants"
                                }
                            }
                        },
                        "post": {
                            "summary": "Create tenant",
                            "responses": {
                                "201": {
                                    "description": "Tenant created"
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Audit Log API",
            "description": "View audit trail of all system actions",
            "files": [
                "app/api/audit/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "paths": {
                    "/api/audit": {
                        "get": {
                            "summary": "Get audit logs with filters",
                            "responses": {
                                "200": {
                                    "description": "Paginated audit logs"
                                }
                            }
                        }
                    }
                }
            }
        },
        {
            "name": "Admin Dashboard API",
            "description": "Admin-only endpoint for system statistics and user management",
            "files": [
                "app/api/admin/route.ts"
            ],
            "api_doc": {
                "openapi": "3.0.0",
                "paths": {
                    "/api/admin": {
                        "get": {
                            "summary": "Get admin dashboard stats",
                            "responses": {
                                "200": {
                                    "description": "System statistics"
                                }
                            }
                        }
                    }
                }
            }
        }
    ],
    "user_roles": [
        {
            "role": "ADMIN",
            "description": "Full system access, user management, tenant configuration"
        },
        {
            "role": "SALES_MANAGER",
            "description": "Manage sales team leads, assign leads, view reports"
        },
        {
            "role": "SALES_EXECUTIVE",
            "description": "Create and manage own leads, update status"
        },
        {
            "role": "PROCESS_MANAGER",
            "description": "Manage case workflow, assign cases to process executives"
        },
        {
            "role": "PROCESS_EXECUTIVE",
            "description": "Work on assigned cases, update case status"
        }
    ],
    "pages": [
        {
            "path": "/",
            "name": "Home/Landing Page",
            "description": "Landing page with feature overview and quick actions"
        },
        {
            "path": "/dashboard",
            "name": "Sales Dashboard",
            "description": "Overview of leads, statistics, charts"
        },
        {
            "path": "/process-dashboard",
            "name": "Process Dashboard",
            "description": "Case management dashboard for process department"
        },
        {
            "path": "/add-lead",
            "name": "Add Lead",
            "description": "Form to create new leads"
        },
        {
            "path": "/all-leads",
            "name": "All Leads",
            "description": "Table view of all leads with filters and search"
        },
        {
            "path": "/due-today",
            "name": "Due Today",
            "description": "Leads requiring immediate follow-up"
        },
        {
            "path": "/upcoming",
            "name": "Upcoming Follow-ups",
            "description": "Scheduled follow-ups calendar"
        },
        {
            "path": "/cases",
            "name": "Cases List",
            "description": "All converted cases"
        },
        {
            "path": "/case-details",
            "name": "Case Details",
            "description": "Single case view with workflow"
        },
        {
            "path": "/users",
            "name": "User Management",
            "description": "Admin user management"
        },
        {
            "path": "/users/roles",
            "name": "Role Management",
            "description": "RBAC role configuration"
        },
        {
            "path": "/audit-logs",
            "name": "Audit Logs",
            "description": "System audit trail viewer"
        },
        {
            "path": "/tenants",
            "name": "Tenant Management",
            "description": "Multi-tenant configuration (super admin)"
        },
        {
            "path": "/profile",
            "name": "User Profile",
            "description": "Current user profile and settings"
        },
        {
            "path": "/reports",
            "name": "Reports",
            "description": "Analytics and reporting"
        }
    ],
    "authentication": {
        "method": "NextAuth.js + Session Cookies",
        "login_url": "/api/auth/signin",
        "default_credentials": {
            "username": "admin",
            "password": "Admin@123456"
        },
        "mfa_supported": true,
        "sso_providers": [
            "SAML"
        ]
    }
}